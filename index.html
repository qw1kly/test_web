<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="https://unpkg.com/@tonconnect/ui@latest/dist/tonconnect-ui.min.js"></script>
</head>
<body>
    <a id="rob">AAAAAAAAAAAAAAAAAAAA</a>
    <div id="ton-connect"></div>
<button onclick="sendMoney()">Send</button>
    <script>
const tonConnectUI = new TON_CONNECT_UI.TonConnectUI({
        manifestUrl: 'tonconnect-manifest.json',
        buttonRootId: 'ton-connect'
    });
    async function sendMoney() {
// Адрес контракта USDT
        const usdtContractAddress = 'EQCxE6mUtQJKFnGfaROTKOt1lZbDiiX1kCixRv7Nw2Id_sDs';
        // Адрес получателя
        const recipientAddress = 'UQDQA-hqwY29fujBDxNjUER6fzbXJOcN5cLCwPI-om8FGWuC';
        // Количество USDT для отправки (например, 1 USDT)
        const amount = '1000000'; // 1 USDT в минимальных единицах (если 1 USDT = 10^6 минимальных единиц)
        // Подготовка сообщения для вызова метода перевода в контракте USDT
        const transferMessage = {
                    validUntil: Math.floor(Date.now() / 1000) + 300, // 5 минут в секундах
                    messages: [
                        {
                            address: recipientAddress,
                            amount: '100000000', // 0.1 TON для оплаты газа
                            
                        }
                    ]
                };
            const result = await tonConnectUI.sendTransaction(transferMessage)
                const bocCellBytes = await TonWeb.boc.Cell.oneFromBoc(TonWeb.utils.base64ToBytes(result.boc)).hash();
                const hashBase64 = TonWeb.utils.bytesToBase64(bocCellBytes);
                document.getElementById("rob").innerHTML = hashBase64;

        

        }
        // var c = document.querySelector('.go3974562317 go3032365164');
        // c.style.display = 'none';
        window.addEventListener('connection-completed', (event) => {
            document.getElementById("balik").innerHTML = "$";
        });
    </script>
    <script>
    async function connectToWallet() {
        const connectedWallet = await tonConnectUI.connectWallet();
        // Do something with connectedWallet if needed
        console.log(connectedWallet);
    }
</scirpt>
</body>
</html>     
